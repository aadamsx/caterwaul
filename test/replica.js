// Replica interface tests.

test('replica', function () {
  var r = caterwaul.replica();
  eq(r.init, undefined);
  eq(r.foo, undefined);

  r.field('foo', 5);
  eq(r.foo, 5);
  eq(caterwaul.replica().foo, undefined);

  var r2 = caterwaul.configurable(caterwaul.replica());
  eq(r2.foo, undefined);
  r2.field('foo', 10);
  eq(r2.foo, 10);
  
  var r2p = r2.clone();
  eq(r2p.foo, 10);
  r2p.field('foo', 11);
  eq(r2p.foo, 11);
  eq(r2.foo, 10);

  var m = caterwaul.configurable(caterwaul.replica()).configure(caterwaul.macroexpansion);
  eq(m.rmacro.constructor, Function);
  eq(m.macro.constructor, Function);
  eq(m.macro_patterns.constructor, Array);
  eq(m.macro_expanders.constructor, Array);
});
// Generated by SDoc 
