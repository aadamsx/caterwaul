sdocp('sdoc::js::test/replica', 'Replica interface tests.\n\ntest(\'replica\', function () {\n  var r = caterwaul.replica();\n  eq(r.init, undefined);\n  eq(r.foo, undefined);\n\n  r.field(\'foo\', 5);\n  eq(r.foo, 5);\n  eq(caterwaul.replica().foo, undefined);\n\n  var r2 = caterwaul.configurable(caterwaul.replica());\n  eq(r2.foo, undefined);\n  r2.field(\'foo\', 10);\n  eq(r2.foo, 10);\n  \n  var r2p = r2.clone();\n  eq(r2p.foo, 10);\n  r2p.field(\'foo\', 11);\n  eq(r2p.foo, 11);\n  eq(r2.foo, 10);\n\n  var m = caterwaul.configurable(caterwaul.replica()).configure(caterwaul.macroexpansion);\n  eq(m.rmacro.constructor, Function);\n  eq(m.macro.constructor, Function);\n  eq(m.macro_patterns.constructor, Array);\n  eq(m.macro_expanders.constructor, Array);\n});');