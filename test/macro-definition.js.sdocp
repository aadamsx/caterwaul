sdocp('test/macro-definition.js.sdoc', 'Macro definition tests.\n\ntest(function () {\n  var c = caterwaul.clone(\'qs\', function () {\n    this.rmacro(qs[fn[_][_]], function (params, expression) {return qs[function (_) {return _}].s(\'_\', [params, expression])});\n  });\n\n  c.configure(function () {\n    this.rmacro(qs[let(_ = _) in _], fn[v, e, n][qs[fn[_][_].call(this, _)].s(\'_\', [v, n, e])]);\n  });\n\n  eq(c(function () {return fn[x, y][x + y]})()(3, 5), 8);\n  eq(c(function () {return let(x = 5) in x + 1})(), 6);\n});\n');