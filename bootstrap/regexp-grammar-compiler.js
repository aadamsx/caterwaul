caterwaul.module( 'regexp-grammar-compiler' , (function(qse,qs,qs1,qs2,qse1,qse2,qs3,qs4,qs5,qs6,qs7) {var result= (function($) {$.regexp_grammar=function(rules) {;
return(function() {var parsed_rules= {} ,classes= {} ,visit=function(pair) {;
return(parsed_rules[pair[0] ] =$.regexp(pair[1] , {atom: 'word' } ) ,classes[pair[0] ] =parser_for(parsed_rules[pair[0] ] ) ) } ,flatten=function(t,d) {;
return t.data===d&&t.length>=2? ( [t[0] ] ) .concat(flatten(t[1] ,d) ) : [t] } ,parser_for=function(r) {;
return r.i() ?alternative_parser(flatten(r, '|' ) ) :sequential_parser(r) } ,alternative_parser=function(rs) {;
return(qse) .replace( {_r: (function(xs) {var x,x0,xi,xl,xr;
for(var x0= (qs) ,xi=0,xl=xs.length;
xi<xl;
 ++xi)x=xs[xi] ,x0= ( (qs1) .replace( {_x0:x0,_x:x.data} ) ) ;
return x0} ) .call(this,rs) } ) } ,sequential_parser=function(r) {;
return(qs2) .replace( {_stages:matching_stage_for(r, 's' ) } ) } ,matching_stage_for=function(t,v) {;
return(function(it) {return it? (qse1) .replace( {_name:it._name.data,_step:it._step.data,_v:v} ) : (function(it) {return it? (qse2) .replace( {_l: ( '' + (it.data.length) + '' ) ,_s:$.syntax.from_string(it.data) ,_v:v} ) :t.data=== '*?' ? (qs3) .replace( {_last:$.gensym( 'last' ) ,_v:v,_each:matching_stage_for(t[0] ,v) } ) :t.data=== '?' ? (function() {var temp=$.gensym(v) ;
return(qs4) .replace( {_v:v,_temp:temp,_stage:matching_stage_for(t[0] ,v) } ) } ) .call(this) :t.data=== ',' ? (qs5) .replace( {_x:matching_stage_for(t[0] ,v) ,_y:matching_stage_for(t[1] ,v) } ) :t.data=== '(' ?matching_stage_for(t[0] ,v) :t.data=== '|' ? (function() {var temp=$.gensym(v) ;
return(qs6) .replace( {_v:v,_temp:temp,_stage1:matching_stage_for(t[0] ,temp) ,_stage2:matching_stage_for(t[1] ,v) } ) } ) .call(this) :t.is_character_class() ? (qs7) .replace( {_v:v,_regexp: ( '/' + (t) + '/' ) } ) : ( 'error: no matching form for ' + (t) + '' ) } ) .call(this, (is_constant(t) ) ) } ) .call(this, (is_substep(t) ) ) } ,substep_pattern=$.regexp( /(_name: _step)/ , {atom: 'word' } ) ,is_substep=function(t) {;
return(substep_pattern) .match(t) } ,is_constant=function(t) {;
return t.is_atom() &&t.data!== '.' &&t} ;
return(function(it) {return classes} ) .call(this, ( (function(xs1) {var x1,x01,xi1,xl1,xr1;
for(var xi1=0,xl1=xs1.length;
xi1<xl1;
 ++xi1)x1=xs1[xi1] , (visit(x1) ) ;
return xs1} ) .call(this, (function(o) {var ps= [] ;
for(var k in o)Object.prototype.hasOwnProperty.call(o,k) &&ps.push( [k,o[k] ] ) ;
return ps} ) .call(this, (rules) ) ) ) ) } ) .call(this) } } ) ;
result.caterwaul_expression_ref_table= {qse: ( "new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"function\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"s\" ) ) ,new caterwaul.syntax( \"{\" ,new caterwaul.syntax( \"return\" ,new caterwaul.syntax( \"_r\" ) ) ) ) )" ) ,qs: ( "new caterwaul.syntax( \"false\" )" ) ,qs1: ( "new caterwaul.syntax( \"||\" ,new caterwaul.syntax( \"_x0\" ) ,new caterwaul.syntax( \"()\" ,new caterwaul.syntax( \"_x\" ) ,new caterwaul.syntax( \"s\" ) ) )" ) ,qs2: ( "new caterwaul.syntax( \"function\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"s\" ) ) ,new caterwaul.syntax( \"{\" ,new caterwaul.syntax( \";\" ,new caterwaul.syntax( \";\" ,new caterwaul.syntax( \"var\" ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"cons\" ) ,new caterwaul.syntax( \"{\" ,new caterwaul.syntax( \"\" ) ) ) ) ,new caterwaul.syntax( \"_stages\" ) ) ,new caterwaul.syntax( \"if\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"s\" ) ) ,new caterwaul.syntax( \"{\" ,new caterwaul.syntax( \";\" ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"s\" ) ,new caterwaul.syntax( \"cons\" ) ) ,new caterwaul.syntax( \"cons\" ) ) ,new caterwaul.syntax( \"return\" ,new caterwaul.syntax( \"s\" ) ) ) ) ) ) ) )" ) ,qse1: ( "new caterwaul.syntax( \"if\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"&&\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"()\" ,new caterwaul.syntax( \"_step\" ) ,new caterwaul.syntax( \"_v\" ) ) ) ) ) ) ,new caterwaul.syntax( \"()\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"||\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"cons\" ) ,new caterwaul.syntax( \"_name\" ) ) ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"cons\" ) ,new caterwaul.syntax( \"_name\" ) ) ,new caterwaul.syntax( \"[\" ,new caterwaul.syntax( \"\" ) ) ) ) ) ) ,new caterwaul.syntax( \"push\" ) ) ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"cons\" ) ) ) )" ) ,qse2: ( "new caterwaul.syntax( \"if\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"&&\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"===\" ,new caterwaul.syntax( \"()\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"s\" ) ) ,new caterwaul.syntax( \"substr\" ) ) ,new caterwaul.syntax( \",\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"i\" ) ) ,new caterwaul.syntax( \"_l\" ) ) ) ,new caterwaul.syntax( \"_s\" ) ) ) ) ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"{\" ,new caterwaul.syntax( \",\" ,new caterwaul.syntax( \":\" ,new caterwaul.syntax( \"s\" ) ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"s\" ) ) ) ,new caterwaul.syntax( \":\" ,new caterwaul.syntax( \"i\" ) ,new caterwaul.syntax( \"+\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"i\" ) ) ,new caterwaul.syntax( \"_l\" ) ) ) ) ) ) ,new caterwaul.syntax( \"else\" ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"null\" ) ) ) )" ) ,qs3: ( "new caterwaul.syntax( \";\" ,new caterwaul.syntax( \";\" ,new caterwaul.syntax( \"var\" ,new caterwaul.syntax( \"_last\" ) ) ,new caterwaul.syntax( \"while\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"_v\" ) ) ,new caterwaul.syntax( \"{\" ,new caterwaul.syntax( \";\" ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_last\" ) ,new caterwaul.syntax( \"_v\" ) ) ,new caterwaul.syntax( \"_each\" ) ) ) ) ) ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"_last\" ) ) )" ) ,qs4: ( "new caterwaul.syntax( \";\" ,new caterwaul.syntax( \";\" ,new caterwaul.syntax( \"var\" ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_temp\" ) ,new caterwaul.syntax( \"_v\" ) ) ) ,new caterwaul.syntax( \"_stage\" ) ) ,new caterwaul.syntax( \"if\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"_temp\" ) ) ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"_temp\" ) ) ) )" ) ,qs5: ( "new caterwaul.syntax( \";\" ,new caterwaul.syntax( \"_x\" ) ,new caterwaul.syntax( \"_y\" ) )" ) ,qs6: ( "new caterwaul.syntax( \";\" ,new caterwaul.syntax( \";\" ,new caterwaul.syntax( \"var\" ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_temp\" ) ,new caterwaul.syntax( \"_v\" ) ) ) ,new caterwaul.syntax( \"_stage1\" ) ) ,new caterwaul.syntax( \"if\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"_temp\" ) ) ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"_temp\" ) ) ,new caterwaul.syntax( \"else\" ,new caterwaul.syntax( \"_stage2\" ) ) ) )" ) ,qs7: ( "new caterwaul.syntax( \"if\" ,new caterwaul.syntax( \"(\" ,new caterwaul.syntax( \"&&\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"()\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_regexp\" ) ,new caterwaul.syntax( \"test\" ) ) ,new caterwaul.syntax( \"()\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"s\" ) ) ,new caterwaul.syntax( \"charAt\" ) ) ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"i\" ) ) ) ) ) ) ,new caterwaul.syntax( \"=\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"{\" ,new caterwaul.syntax( \",\" ,new caterwaul.syntax( \":\" ,new caterwaul.syntax( \"s\" ) ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"s\" ) ) ) ,new caterwaul.syntax( \":\" ,new caterwaul.syntax( \"i\" ) ,new caterwaul.syntax( \"+\" ,new caterwaul.syntax( \".\" ,new caterwaul.syntax( \"_v\" ) ,new caterwaul.syntax( \"i\" ) ) ,new caterwaul.syntax( \"1\" ) ) ) ) ) ) )" ) } ;
return(result) } ) .call(this,new caterwaul.syntax( "(" ,new caterwaul.syntax( "function" ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "s" ) ) ,new caterwaul.syntax( "{" ,new caterwaul.syntax( "return" ,new caterwaul.syntax( "_r" ) ) ) ) ) ,new caterwaul.syntax( "false" ) ,new caterwaul.syntax( "||" ,new caterwaul.syntax( "_x0" ) ,new caterwaul.syntax( "()" ,new caterwaul.syntax( "_x" ) ,new caterwaul.syntax( "s" ) ) ) ,new caterwaul.syntax( "function" ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "s" ) ) ,new caterwaul.syntax( "{" ,new caterwaul.syntax( ";" ,new caterwaul.syntax( ";" ,new caterwaul.syntax( "var" ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "cons" ) ,new caterwaul.syntax( "{" ,new caterwaul.syntax( "" ) ) ) ) ,new caterwaul.syntax( "_stages" ) ) ,new caterwaul.syntax( "if" ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "s" ) ) ,new caterwaul.syntax( "{" ,new caterwaul.syntax( ";" ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "." ,new caterwaul.syntax( "s" ) ,new caterwaul.syntax( "cons" ) ) ,new caterwaul.syntax( "cons" ) ) ,new caterwaul.syntax( "return" ,new caterwaul.syntax( "s" ) ) ) ) ) ) ) ) ,new caterwaul.syntax( "if" ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "&&" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "()" ,new caterwaul.syntax( "_step" ) ,new caterwaul.syntax( "_v" ) ) ) ) ) ) ,new caterwaul.syntax( "()" ,new caterwaul.syntax( "." ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "||" ,new caterwaul.syntax( "." ,new caterwaul.syntax( "cons" ) ,new caterwaul.syntax( "_name" ) ) ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "." ,new caterwaul.syntax( "cons" ) ,new caterwaul.syntax( "_name" ) ) ,new caterwaul.syntax( "[" ,new caterwaul.syntax( "" ) ) ) ) ) ) ,new caterwaul.syntax( "push" ) ) ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "cons" ) ) ) ) ,new caterwaul.syntax( "if" ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "&&" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "===" ,new caterwaul.syntax( "()" ,new caterwaul.syntax( "." ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "s" ) ) ,new caterwaul.syntax( "substr" ) ) ,new caterwaul.syntax( "," ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "i" ) ) ,new caterwaul.syntax( "_l" ) ) ) ,new caterwaul.syntax( "_s" ) ) ) ) ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "{" ,new caterwaul.syntax( "," ,new caterwaul.syntax( ":" ,new caterwaul.syntax( "s" ) ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "s" ) ) ) ,new caterwaul.syntax( ":" ,new caterwaul.syntax( "i" ) ,new caterwaul.syntax( "+" ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "i" ) ) ,new caterwaul.syntax( "_l" ) ) ) ) ) ) ,new caterwaul.syntax( "else" ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "null" ) ) ) ) ,new caterwaul.syntax( ";" ,new caterwaul.syntax( ";" ,new caterwaul.syntax( "var" ,new caterwaul.syntax( "_last" ) ) ,new caterwaul.syntax( "while" ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "_v" ) ) ,new caterwaul.syntax( "{" ,new caterwaul.syntax( ";" ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_last" ) ,new caterwaul.syntax( "_v" ) ) ,new caterwaul.syntax( "_each" ) ) ) ) ) ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "_last" ) ) ) ,new caterwaul.syntax( ";" ,new caterwaul.syntax( ";" ,new caterwaul.syntax( "var" ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_temp" ) ,new caterwaul.syntax( "_v" ) ) ) ,new caterwaul.syntax( "_stage" ) ) ,new caterwaul.syntax( "if" ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "_temp" ) ) ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "_temp" ) ) ) ) ,new caterwaul.syntax( ";" ,new caterwaul.syntax( "_x" ) ,new caterwaul.syntax( "_y" ) ) ,new caterwaul.syntax( ";" ,new caterwaul.syntax( ";" ,new caterwaul.syntax( "var" ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_temp" ) ,new caterwaul.syntax( "_v" ) ) ) ,new caterwaul.syntax( "_stage1" ) ) ,new caterwaul.syntax( "if" ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "_temp" ) ) ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "_temp" ) ) ,new caterwaul.syntax( "else" ,new caterwaul.syntax( "_stage2" ) ) ) ) ,new caterwaul.syntax( "if" ,new caterwaul.syntax( "(" ,new caterwaul.syntax( "&&" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "()" ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_regexp" ) ,new caterwaul.syntax( "test" ) ) ,new caterwaul.syntax( "()" ,new caterwaul.syntax( "." ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "s" ) ) ,new caterwaul.syntax( "charAt" ) ) ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "i" ) ) ) ) ) ) ,new caterwaul.syntax( "=" ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "{" ,new caterwaul.syntax( "," ,new caterwaul.syntax( ":" ,new caterwaul.syntax( "s" ) ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "s" ) ) ) ,new caterwaul.syntax( ":" ,new caterwaul.syntax( "i" ) ,new caterwaul.syntax( "+" ,new caterwaul.syntax( "." ,new caterwaul.syntax( "_v" ) ,new caterwaul.syntax( "i" ) ) ,new caterwaul.syntax( "1" ) ) ) ) ) ) ) ) ) ;
