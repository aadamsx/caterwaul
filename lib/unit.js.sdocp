sdocp('lib/unit.js.sdoc', 'Unit testing library functions\n\nvar already_failed = false;\nvar on_error = function (e) {console.log(\'Error at eq count \' + eq_count); throw new Error(e)};\nvar eq_count = 0;\n\nvar log = function (message) {};\n\nvar eq = function (x, y, message) {\n  ++eq_count;\n  if (x == y) return true;\n  else        return on_error((message ? message + \': \' : \' (eq \' + eq_count + \')\') + \'\\n\' + x + \'\\n\\n!==\\n\\n\' + y);\n};\n\nvar aeq = function (xs, ys, message) {\n  eq(xs.length, ys.length, xs + \' == \' + ys + \': \' + message + \' (length check)\');\n  for (var i = 0, l = xs.length; i < l; ++i)\n    eq(xs[i], ys[i], message + \' (element check: \' + i + \')\');\n  return true;\n};\n\nvar test = function (f) {\n  eq_count = 0;\n  f();\n  caterwaul = caterwaul.reinitialize(caterwaul);\n  eq_count = 0;\n  f();\n};\n');