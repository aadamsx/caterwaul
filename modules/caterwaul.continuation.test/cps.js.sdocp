sdocp('modules/caterwaul.continuation.test/cps.js.sdoc', 'CPS-conversion tests.\n\ntest(function () {\n  var c = caterwaul.clone(\'std continuation\');\n  c(function (eq) {\n    var x  = 0;\n    var cs = [];\n    var f  = cs/mb/push;\n    var g  = fn_[cs.shift().apply(this, arguments)];\n\n    eq(let/cps[y <- f(_)][x += y], 1);\n    eq(x, 0);\n    eq(cs.length, 1);\n    g(10);\n    eq(x, 10);\n    eq(cs.length, 0);\n\n    eq(let/cps[y <- f(_), z <- f(_)][x += y + z], 1);\n    eq(x, 10);\n    eq(cs.length, 1);\n    g(7);\n    eq(x, 10);\n    eq(cs.length, 1);\n    g(4);\n    eq(x, 21);\n    eq(cs.length, 0);\n  })(eq);\n});\n');