caterwaul.tconfiguration('std','seq.core',function (){this.shallow('seq',{core:fn_[null]})}).tconfiguration('std','seq.finite.core',function (){let[push=Array.prototype.push][this.configure('seq.core').seq.finite=fc[xs][this.length=0,push.apply(this,xs||[])]/se[_.prototype=new this.seq.core()/se[_.constructor=ctor],where[ctor=_]]]}).tconfiguration('std','seq.finite.mutability',function (){this.configure('seq.finite.core').seq.finite.prototype/se[_.push()=(Array.prototype.push.apply(this,arguments),this),_.pop()=this[--this.length]]}).tconfiguration('std','seq.finite.object',function (){let[own=Object.hasOwnProperty] in this.configure('seq.finite.core').seq.finite/se[_.keys(o,all)=new _()/se[(function (){for (var k in o)if (!all||own.call(o,k))_.push(k)})()],_.values(o,all)=new _()/se[(function (){for (var k in o)if (!all||own.call(o,k))_.push(o[k])})()],_.kv_pairs(o,all)=new _()/se[(function (){for (var k in o)if (!all||own.call(o,k))_.push([k,o[k]])})()]]}).tconfiguration('std','seq.finite.traversal',function (){this.configure('seq.finite.core seq.finite.mutability').seq.finite.prototype/se[_.map(f)=new this.constructor()/se[(function (){for (var i=0,l=this.length;i<l;++i)_.push(f.call(this,this[i],i))}).call(this)]]}).tconfiguration('std','seq.infinite.core',function (){this.configure('seq.core').seq.infinite=fn_[null]/se[_.prototype=new this.seq.core()/se[_.constructor=ctor],where[ctor=_]]/se[_.def(name,ctor,h,t)=i[name]=ctor/se[_.prototype=new i()/se[_.h=h,_.t=t,_.constructor=ctor]],where[i=_],_.def('cons',fn[h,t][this._h=h,this._t=t],fn_[this._h],fn_[this._t]),_.def('k',fn[x][this._x=x],fn_[this._x],fn_[this])]}).tconfiguration('std','seq.infinite.y',function (){this.configure('seq.infinite.core').seq.infinite.def('y',fc[f,x][this._f=f,this._x=x],fn_[this._x],fn_[new this.constructor(this._f,this._f(this._x))])}).tconfiguration('std continuation','seq.infinite.class.transform',function (){this.configure('seq.infinite.core').seq.infinite/se[_.prototype.map(f)=new _.map(f,this),_.def('map',fc[f,xs][this._f=f,this._xs=xs],fn_[this._f(this._xs.h())],fn_[new this.constructor(this._f,this._xs.t())]),_.prototype.filter(f)=new _.filter(f,this),_.def('filter',fc[f,xs][this._f=f,this._xs=let*[next(s)(cc)=f(s.h())?cc(s):call/tail[next(s.t())(cc)]] in call/cc[next(xs)]],fn_[this._xs.h()],fn_[new this.constructor(this._f,this._xs.t())])]}).tconfiguration('std continuation','seq.infinite.class.traversal',function (){let[finite=this.configure('seq.finite.core seq.finite.mutability').seq.finite] in this.configure('seq.infinite.core').seq.infinite.prototype/se[_.drop(f)=let*[next(s)(cc)=f(s.h())?cc(s):call/tail[next(s.t())(cc)]] in call/cc[next(this)],_.take(f)=let*[xs=new finite(),next(s)(cc)=let[h=s.h()][f(h)?cc(xs):(xs.push(h),call/tail[next(s.t())(cc)])]] in call/cc[next(this)]]}).configuration('seq',function (){this.configure('seq.core seq.infinite.core seq.infinite.y seq.infinite.class.transform seq.infinite.class.traversal')});