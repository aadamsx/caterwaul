(function(a){return a(a)})(function(ar,ab,y){(function(aw){return aw(aw)})(function(aw){var az=function(){var aA=function(){return aA.init.apply(aA,arguments)};return aA
},ay=typeof caterwaul==="undefined"?y:caterwaul,ax=az();ax.deglobalize=function(){caterwaul=ay;return ax};ax.core_initializer=aw;ax.merge=(function(aB){for(var aA in aB){if(aB.hasOwnProperty(aA)){return true
}}})({toString:true})?function(aE){for(var aD=1,aA=arguments.length,aC;aD<aA;++aD){if(aC=arguments[aD]){for(var aB in aC){if(F(aC,aB)){aE[aB]=aC[aB]}}}}return aE
}:function(aE){for(var aD=1,aA=arguments.length,aC;aD<aA;++aD){if(aC=arguments[aD]){for(var aB in aC){if(F(aC,aB)){aE[aB]=aC[aB]}}if(aC.toString&&!/\[native code\]/.test(aC.toString.toString())){aE.toString=aC.toString
}}}return aE},ax.modules=[];ax.module=function(aB,aA,aC){if(arguments.length===1){return ax[aB+"_initializer"]}if(!(aB+"_initializer" in ax)){ax.modules.push(aB)
}aC||(aC=aA,aA=null);(ax[aB+"_initializer"]=aA?ax(aA)(aC):aC)(ax);return ax};return caterwaul=ax});var e=function(aw){return aw.split(/\s+/)},ah=function(aw,ax){return ax&&ax.call(aw,aw)||aw
},c=function(aw){throw new Error(aw)},v=ab||(function(){for(var aw=[],ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789$_",ax=21,az;ax>=0;--ax){aw.push(ay.charAt(Math.random()*64>>>0))
}return aw.join("")})(),j=(function(aw){return function(ax){return[ax||"",(++aw).toString(36),v].join("_")}})(0),f=function(aw){return aw.substr(aw.length-22)===v
},an=function(ax,aw){return function(){return ax.apply(aw,arguments)}},z=function(aA,ax){for(var ay=0,az=[],aw=ax.length;ay<aw;++ay){az.push(aA(ax[ay],ay))}return az
},w=function(ax,aw){return z(function(ay){return ay instanceof Array?w(ax,ay):ax(ay)})},L=function(az){for(var ay=0,ax=e(az),aA={},aw=ax.length;ay<aw;++ay){aA[ax[ay]]=true
}return af(aA)},a=j("hash"),af=function(ay){var aw=0;for(var ax in ay){ac.call(ay,ax)&&(aw=ax.length>aw?ax.length:aw)}ay[a]=aw;return ay},F=function(ax,aw){return aw!=null&&!(aw.length>ax[a])&&ac.call(ax,aw)
},ac=Object.prototype.hasOwnProperty,H=caterwaul.merge(caterwaul,{map:z,rmap:w,gensym:j,is_gensym:f}),D=L(". new ++ -- u++ u-- u+ u- typeof u~ u! ! * / % + - << >> >>> < > <= >= instanceof in == != === !== & ^ | && || ? = += -= *= /= %= &= |= ^= <<= >>= >>>= : , return throw case var const break continue void else u; ;"),ag=function(az){for(var ay=0,ax=[false];
ay<8;++ay){ax.push.apply(ax,ax)}for(var ay=0,aw=az.length;ay<aw;++ay){ax[az.charCodeAt(ay)]=true}return ax},au=ag(".0123456789"),ak=ag("0123456789"),Y=ag("0123456789abcdefABCDEFx"),h=ag("eE"),ai=ag(" \n\r\t"),al=ag("()[]{}?:"),am=ag("([{?:"),g=ag("+-*/%&|^!~=<>?:;.,"),T=ag("\n\r"),K=ag("gims"),o=ag("'\"/"),l="/".charCodeAt(0),i="0".charCodeAt(0),A=L("++ --"),J=ag("$_abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"),q="*".charCodeAt(0),d="\\".charCodeAt(0),M="x".charCodeAt(0),R=".".charCodeAt(0),Z="#".charCodeAt(0),ap=z(L,["function","( [ . [] ()","new delete","u++ u-- ++ -- typeof u~ u! u+ u-","* / %","+ -","<< >> >>>","< > <= >= instanceof in","== != === !==","&","^","|","&&","||","case","? = += -= *= /= %= &= |= ^= <<= >>= >>>=",":",",","return throw break continue void","var const","if else try catch finally for switch with while do",";"]),u=L("= += -= *= /= %= &= ^= |= <<= >>= >>>= ~ ! new typeof u+ u- -- ++ u-- u++ ? if else function try catch finally for switch case with while do"),B=(function(ay){for(var aA={},az=0,aw=ay.length;
az<aw;++az){for(var ax in ay[az]){F(ay[az],ax)&&(aA[ax]=az)}}return af(aA)})(ap),U=(function(ay){for(var aA=[],aB=0,aw=ay.length,az=null;az=ay[aB],aA[aB]=true,aB<aw;
++aB){for(var ax in az){if(F(az,ax)&&(aA[aB]=aA[aB]&&!F(u,ax))){break}}}return aA})(ap),aa=L("[] . () * / % + - << >> >>> < > <= >= instanceof in == != === !== & ^ | && || = += -= *= /= %= &= |= ^= <<= >>= >>>= , : ;"),m=af({"function":2,"if":1,"do":1,"catch":1,"try":1,"for":1,"while":1,"with":1,"switch":1}),r=af({"if":"else","do":"while","catch":"finally","try":"catch"}),X=L("[] ()"),av=L("return throw break continue else"),O=L("u+ u- u! u~ u++ u-- new typeof finally case var const void delete"),ae=L("; {"),W=L("i;"),P=L("++ --"),at=af({"(":")","[":"]","{":"}","?":":"}),Q=L("[ ("),x=L("?"),I=L("function if for while catch void delete new typeof in instanceof"),S=L("function"),n=H.syntax_common={_replace:function(aw){return(aw.l=this.l)&&(this.l.r=aw),(aw.r=this.r)&&(this.r.l=aw),this
},_append_to:function(aw){return aw&&aw._append(this),this},_reparent:function(aw){return this.p&&this.p[0]===this&&(this.p[0]=aw),this},_fold_l:function(aw){return this._append(this.l&&this.l._unlink(this)||aj)
},_append:function(aw){return(this[this.length++]=aw)&&(aw.p=this),this},_fold_r:function(aw){return this._append(this.r&&this.r._unlink(this)||aj)},_sibling:function(aw){return aw.p=this.p,(this.r=aw).l=this
},_fold_lr:function(){return this._fold_l()._fold_r()},_fold_rr:function(){return this._fold_r()._fold_r()},_wrap:function(aw){return aw.p=this._replace(aw).p,this._reparent(aw),delete this.l,delete this.r,this._append_to(aw)
},_unlink:function(aw){return this.l&&(this.l.r=this.r),this.r&&(this.r.l=this.l),delete this.l,delete this.r,this._reparent(aw)},pop:function(){return --this.length,this
},push:function(aw){return this[this.length++]=aw||aj,this},id:function(){var aw=j("id");return(this.id=function(){return aw})()},is_caterwaul_syntax:true,each:function(ay){for(var ax=0,aw=this.length;
ax<aw;++ax){ay(this[ax],ax)}return this},map:function(ay){for(var az=new this.constructor(this),ax=0,aw=this.length;ax<aw;++ax){az.push(ay(this[ax],ax)||this[ax])
}return az},reach:function(aw){aw(this);this.each(function(ax){ax.reach(aw)});return this},rmap:function(ax){var aw=ax(this);return !aw||aw===this?this.map(function(ay){return ay.rmap(ax)
}):aw===true?this:aw.rmap===y?new this.constructor(aw):aw},peach:function(aw){this.each(function(ax){ax.peach(aw)});aw(this);return this},pmap:function(ax){var aw=this.map(function(ay){return ay.pmap(ax)
});return ax(aw)},clone:function(){return this.rmap(function(){return false})},collect:function(ax){var aw=[];this.reach(function(ay){ax(ay)&&aw.push(ay)});return aw
},replace:function(aw){var ax;return ac.call(aw,this.data)&&(ax=aw[this.data])?ax.constructor===String?ah(this.map(function(ay){return ay.replace(aw)}),function(){this.data=ax
}):ax:this.map(function(ay){return ay.replace(aw)})},repopulated_with:function(aw){return new this.constructor(this.data,aw)},with_data:function(aw){return new this.constructor(aw,Array.prototype.slice.call(this))
},change:function(ax,aw){return ah(new this.constructor(this.data,Array.prototype.slice.call(this)),function(ay){ay[ax]=aw})},compose_single:function(aw,ax){return this.change(aw,ax(this[aw]))
},slice:function(ax,aw){return new this.constructor(this.data,Array.prototype.slice.call(this,ax,aw))},traverse:function(aw){aw({entering:this});aw({exiting:this.each(function(ax){ax.traverse(aw)
})});return this},flatten:function(aw){aw=aw||this.data;return aw!==this.data?this.as(aw):!(F(aa,aw)&&this.length)?this:F(u,aw)?ah(new this.constructor(aw),an(function(ay){for(var ax=this;
ax&&ax.data===aw;ax=ax[1]){ay.push(ax[0])}ay.push(ax)},this)):ah(new this.constructor(aw),an(function(az){for(var ax=this,ay=[];ax.data===aw;ax=ax[0]){ax[1]&&ay.push(ax[1])
}ay.push(ax);for(ax=ay.length-1;ax>=0;--ax){az.push(ay[ax])}},this))},unflatten:function(){var ax=this,aw=F(u,this.data);return this.length<=2?this:ah(new this.constructor(this.data),function(aA){if(aw){for(var az=0,ay=ax.length-1;
az<ay;++az){aA=aA.push(ax[az]).push(az<ay-2?new ax.constructor(ax.data):ax[az])[1]}}else{for(var az=ax.length-1;az>=1;--az){aA=aA.push(az>1?new ax.constructor(ax.data):ax[0]).push(ax[az])[0]
}}})},as:function(aw){return this.data===aw?this:new this.constructor(aw).push(this)},bindings:function(ax){var aw=ax||{};this.reach(function(ay){ay.add_bindings_to(aw)
});return aw},expressions:function(ax){var aw=ax||{};this.reach(function(ay){ay.add_expressions_to(aw)});return aw},add_bindings_to:function(aw){},add_expressions_to:function(aw){},contains:function(az){var aw=az(this);
if(aw){return aw}for(var ay=0,ax=this.length;ay<ax;++ay){if(aw=this[ay].contains(az)){return aw}}},match:function(ay,az){ay=ay.constructor===String?H.parse(ay):ay;
az||(az={_:ay});if(this.is_wildcard()){return az[this.data]=ay,az}else{if(this.length===ay.length&&this.data===ay.data){for(var ax=0,aw=this.length;ax<aw;++ax){if(!this[ax].match(ay[ax],az)){return null
}}return az}}},toString:function(){var aw=[""];this.serialize(aw);return aw.join("")},structure:function(){if(this.length){return"("+['"'+this.data+'"'].concat(z(function(aw){return aw.structure()
},this)).join(" ")+")"}else{return this.data}}};H.syntax_subclass=function(ay){var ax=Array.prototype.slice.call(arguments,1),aw=function(){return ay.apply(this,arguments)
};H.merge.apply(this,[aw.prototype,n].concat(ax));aw.prototype.constructor=aw;return aw};var N=H.parse_hex=function(az){for(var aw=0,ay=0,ax=az.length,aA;ay<ax;++ay){aw*=16,aw+=(aA=az.charCodeAt(ay))<=58?aA-48:(aA&95)-55
}return aw},s=H.parse_octal=function(az){for(var aw=0,ay=0,ax=az.length;ay<ax;++ay){aw*=8,aw+=az.charCodeAt(ay)-48}return aw},aq=H.unescape_string=function(aA){for(var az=0,aB,ax=aA.length,aw=[],ay=false;
az<ax;++az){if(ay){ay=false,aw.push((aB=aA.charAt(az))==="\\"?"\\":aB==="n"?"\n":aB==="r"?"\r":aB==="b"?"\b":aB==="f"?"\f":aB==="0"?"\u0000":aB==="t"?"\t":aB==="v"?"\v":aB==='"'||aB==="'"?aB:aB==="x"?String.fromCharCode(N(aA.substring(az,++az+1))):aB==="u"?String.fromCharCode(N(aA.substring(az,(az+=3)+1))):String.fromCharCode(s(aA.substring(az,(az+=2)+1))))
}else{if((aB=aA.charAt(az))==="\\"){ay=true}else{aw.push(aB)}}}return aw.join("")};H.javascript_tree_type_methods={is_string:function(){return/['"]/.test(this.data.charAt(0))
},as_escaped_string:function(){return this.data.substr(1,this.data.length-2)},is_number:function(){return/^-?(0x|\d|\.\d+)/.test(this.data)},as_number:function(){return Number(this.data)
},is_boolean:function(){return this.data==="true"||this.data==="false"},as_boolean:function(){return this.data==="true"},is_regexp:function(){return/^\/./.test(this.data)
},as_escaped_regexp:function(){return this.data.substring(1,this.data.lastIndexOf("/"))},is_array:function(){return this.data==="["},as_unescaped_string:function(){return aq(this.as_escaped_string())
},is_wildcard:function(){return this.data.charCodeAt(0)===95},is_identifier:function(){return this.length===0&&/^[A-Za-z_$]\w*$/.test(this.data)&&!this.is_boolean()&&!this.is_null_or_undefined()&&!F(D,this.data)
},has_grouped_block:function(){return F(m,this.data)},is_block:function(){return F(ae,this.data)},is_blockless_keyword:function(){return F(av,this.data)},is_null_or_undefined:function(){return this.data==="null"||this.data==="undefined"
},is_constant:function(){return this.is_number()||this.is_string()||this.is_boolean()||this.is_regexp()||this.is_null_or_undefined()},left_is_lvalue:function(){return/=$/.test(this.data)||/\+\+$/.test(this.data)||/--$/.test(this.data)
},is_empty:function(){return !this.length},has_parameter_list:function(){return this.data==="function"||this.data==="catch"},has_lvalue_list:function(){return this.data==="var"||this.data==="const"
},is_dereference:function(){return this.data==="."||this.data==="[]"},is_invocation:function(){return this.data==="()"},is_contextualized_invocation:function(){return this.is_invocation()&&this[0].is_dereference()
},is_invisible:function(){return F(W,this.data)},is_binary_operator:function(){return F(aa,this.data)},is_prefix_unary_operator:function(){return F(O,this.data)},is_postfix_unary_operator:function(){return F(P,this.data)
},is_unary_operator:function(){return this.is_prefix_unary_operator()||this.is_postfix_unary_operator()},accepts:function(aw){return F(r,this.data)&&r[this.data]===(aw.data||aw)
}};H.javascript_tree_serialization_methods={ends_with_block:function(){var aw=this[m[this.data]];return this.data==="{"||F(m,this.data)&&(this.data!=="function"||this.length===3)&&aw&&aw.ends_with_block()
},serialize:function(az){var ax=this.length,aA=this.data,aw=";\n",ay=function(aB){if(J[az[az.length-1].charCodeAt(0)]===J[aB.charCodeAt(0)]){az.push(" ",aB)}else{az.push(aB)
}};switch(ax){case 0:if(F(av,aA)){return ay(aA.replace(/^u/,""))}else{if(F(at,aA)){return ay(aA),ay(at[aA])}else{return ay(aA)}}case 1:if(F(O,aA)||F(av,aA)){return ay(aA.replace(/^u/,"")),this[0].serialize(az)
}else{if(F(at,aA)){return ay(aA),this[0].serialize(az),ay(at[aA])}else{if(F(aa,aA)){return this[0].serialize(az)}else{return this[0].serialize(az),ay(aA)}}}case 2:if(F(X,aA)){return this[0].serialize(az),ay(aA.charAt(0)),this[1].serialize(az),ay(aA.charAt(1))
}else{if(F(m,aA)){return ay(aA),this[0].serialize(az),this[1].serialize(az)}else{if(F(W,aA)){return this[0].serialize(az),this[1].serialize(az)}else{if(aA===";"){return this[0].serialize(az),ay(aw),this[1].serialize(az)
}else{return this[0].serialize(az),ay(aA),this[1].serialize(az)}}}}default:if(F(x,aA)){return this[0].serialize(az),ay(aA),this[1].serialize(az),ay(":"),this[2].serialize(az)
}else{if(F(m,aA)){return this.accepts(this[2])&&!this[1].ends_with_block()?(ay(aA),this[0].serialize(az),this[1].serialize(az),ay(aw),this[2].serialize(az)):(ay(aA),this[0].serialize(az),this[1].serialize(az),this[2].serialize(az))
}else{return this.unflatten().serialize(az)}}}}};H.ref_common=H.merge({},H.javascript_tree_type_methods,H.javascript_tree_serialization_methods,{replace:function(aw){var ax;
return ac.call(aw,this.data)&&(ax=aw[this.data])?ax.constructor===String?ah(new this.constructor(this.value),function(){this.data=ax}):ax:this},length:0});H.ref=H.syntax_subclass(function(ax,aw){if(ax instanceof this.constructor){this.value=ax.value,this.data=ax.data
}else{this.value=ax,this.data=j(aw&&aw.constructor===String?aw:"ref")}},H.ref_common,{add_bindings_to:function(aw){aw[this.data]=this.value}});H.expression_ref=H.syntax_subclass(function(ax,aw){if(ax instanceof this.constructor){this.e=ax.e,this.data=ax.data
}else{this.e=ax,this.data=j(aw&&aw.constructor===String?aw:"e")}},H.ref_common,{add_expressions_to:function(aw){aw[this.data]=this.e}});H.opaque_tree=H.syntax_subclass(function(az,aw){if(az instanceof this.constructor){this.data=az.data,this.expression_refs=az.expression_refs
}else{this.data=az.toString(),this.expression_refs=aw||az.caterwaul_expression_ref_table}var ay=this.expression_refs;for(var ax in ay){ac.call(ay,ax)&&ay[ax].constructor===String&&(ay[ax]=new H.opaque_tree(ay[ax]))
}},{add_expressions_to:function(aw){this.expression_refs&&H.merge(aw,this.expression_refs)},serialize:function(aw){return aw.push(this.data),aw},parse:function(){return H.parse(this.data)
}});H.syntax=ah(H.syntax_subclass(function(aB){if(aB instanceof this.constructor){this.data=aB.data,this.length=0}else{this.data=aB&&aB.toString();this.length=0;
for(var az=1,aw=arguments.length,ay;ay=arguments[az],az<aw;++az){for(var ax=0,aD=ay.length,aA,aC;ay instanceof Array?(aA=ay[ax],ax<aD):(aA=ay,!ax);++ax){this._append((aC=aA.constructor)===String||aC===Number||aC===Boolean?new this.constructor(aA):aA)
}}}},H.javascript_tree_type_methods,H.javascript_tree_serialization_methods),function(){this.from_string=function(aw){return new H.syntax('"'+aw.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"')
};this.from_array=function(ax){for(var ay=0,az=new H.syntax(","),aw=ax.length;ay<aw;++ay){az.push(ax[ay])}return new H.syntax("[",az.unflatten())};this.from_object=function(ay){var aw=new H.syntax(",");
for(var ax in ay){if(ac.call(ay,ax)){aw.push(new H.syntax(":",H.syntax.from_string(ax),ay[ax].as("(")))}}return new H.syntax("{",aw.unflatten())}});var aj=H.empty=new H.syntax("");
H.parse=function(aw){if(aw.constructor===H.syntax){return aw}var aR=aw.toString(),aB=0,a3=0,aO=true,aN=false,a5=false,a4=false,aS=0,aP="",a0=0,aX=aR.length,aI=function(a7){return aR.charCodeAt(a7)
},aG=[],aW=null,aE=null,aC=null,ax=z(function(){return[]},ap),aD=[],aQ=[aj],aY=function(a7){return aQ.push(a7),a7},aT=function(a7){return aE?aE._sibling(aE=a7):(aE=a7._append_to(aC)),aY(a7)
},ay=this.syntax,aF=[];if(aX===0){return aj}while((aB=a0)<aX){while(ai[a3=aI(a0)]&&a0<aX){aB=++a0}aN=a4=a5=aP=false;if(al[a3]){aP=!!++a0;aO=am[a3]}else{if(a3===l&&aI(a0+1)===q&&(a0+=2)){while(++a0<aX&&aI(a0)!==l||aI(a0-1)!==q){}aP=!++a0
}else{if(a3===l&&aI(a0+1)===l){while(++a0<aX&&!T[aI(a0)]){}aP=false}else{if(a3===Z){while(++a0<aX&&!T[aI(a0)]){}aP=false}else{if(o[a3]&&(aS=a3)&&aO&&!(aO=!(aP=aR.charAt(a0)))){while(++a0<aX&&(a3=aI(a0))!==aS||aN){aN=!aN&&a3===d
}while(++a0<aX&&K[aI(a0)]){}aP=true}else{if(a3===i&&Y[aI(a0+1)]){while(++a0<aX&&Y[aI(a0)]){}aO=!(aP=true)}else{if(au[a3]&&(a3!==R||ak[aI(a0+1)])){while(++a0<aX&&(ak[a3=aI(a0)]||(a5^(a5|=a3===R))||(a4^(a4|=h[a3]&&++a0)))){}while(a0<aX&&ak[aI(a0)]){++a0
}aO=!(aP=true)}else{if(g[a3]&&(aP=aO?"u":"",aO=true)){while(a0<aX&&g[aI(a0)]&&F(D,aP+aR.charAt(a0))){aP+=aR.charAt(a0++)}aO=!F(A,aP)}else{while(++a0<aX&&(J[a3=aI(a0)]||a3>127)){}aO=F(D,aP=aR.substring(aB,a0))
}}}}}}}}if(a0===aB){throw new Error('Caterwaul lex error at "'+aR.substr(aB,40)+'" with leading context "'+aR.substr(aB-40,40)+'" (probably a Caterwaul bug)')}if(aP===false){continue
}aP=aP===true?aR.substring(aB,a0):aP==="u;"?";":aP;aP===aW?(aG.pop(),aW=aG[aG.length-1],aE=aE?aE.p:aC,aC=null):(F(at,aP)?(aG.push(aW=at[aP]),aC=aT(aY(new ay(aP))),aE=null):aT(aY(new ay(aP))),F(B,aP)&&ax[B[aP]].push(aE||aC));
aO|=aP===")"&&aE.l&&F(m,aE.l.data)}for(var a0=0,aX=ax.length,aM,a6;a6=ax[a0],aM=U[a0],a0<aX;++a0){for(var aZ=aM?0:a6.length-1,aL=a6.length,a1=aM?1:-1,aJ,a2,aK;aM?aZ<aL:aZ>=0;
aZ+=a1){if(F(aa,a2=(aJ=a6[aZ]).data)){aJ._fold_lr()}else{if(F(Q,a2)&&aJ.l&&!((aK=aJ.l.l)&&F(m,aK.data))&&(aJ.l.data==="."||(aJ.l.data==="function"&&aJ.l.length===2)||!(F(D,aJ.l.data)||F(I,aJ.l.data)))){aD.push(aJ.l._wrap(aY(new ay(a2+at[a2]))).p._fold_r())
}else{if(F(P,a2)){aJ._fold_l()}else{if(F(O,a2)){aJ._fold_r()}else{if(F(x,a2)){aJ._fold_lr(),aF.push(aJ)}else{if(F(m,a2)&&aJ.r&&aJ.r.data!==":"){for(var aU=0,aH=m[a2];
aU<aH&&aJ.r&&!F(ae,aJ.r.data);++aU){aJ._fold_r()}aJ.r&&(aJ.r.data===";"?aJ.push(aj):aJ._fold_r());if(F(r,a2)&&r[a2]===(aJ.r&&aJ.r.r&&aJ.r.r.data)){aJ._fold_r().pop()._fold_r()
}else{if(F(r,a2)&&r[a2]===(aJ.r&&aJ.r.data)){aJ._fold_r()}}}else{if(F(av,a2)){aJ.r&&aJ.r.data!==";"&&aJ._fold_r()}}}}}}}}}for(var a0=aQ.length-1,a6;a0>=0;--a0){(a6=aQ[a0]).r&&a6._wrap(aY(new ay("i;"))).p._fold_r()
}for(var a0=0,aX=aD.length,a6,az;a0<aX;++a0){(az=(a6=aD[a0])[1]=a6[1][0]||aj)&&(az.p=a6)}for(var a0=0,aX=aF.length,a6,aV,aA;a0<aX;++a0){aV=(a6=aF[a0]).length,aA=a6[0],a6[0]=a6[aV-2],a6[1]=aA,a6[2]=a6[aV-1],a6.length=3
}while(aE.p){aE=aE.p}for(var a0=aQ.length-1,a6;a0>=0;--a0){delete (a6=aQ[a0]).p,delete a6.l,delete a6.r}return aE};var ad=H.parse("var _bindings; return(_expression)"),p=H.parse("_variable = _base._variable"),k=H.parse("undefined = void(0)"),C=H.parse("(function (_bindings) {var _result=(_body);_result_init;return(_result)}).call(this, _expressions)"),V=H.parse("_result.caterwaul_expression_ref_table = _expression_ref_table");
H.compile=function(aH,aB,aG){aG=H.merge({gensym_renaming:true},aG);aH=H.late_bound_tree(aH,null,aG);var ay=H.merge({},this._environment,aB,aH.bindings()),aD=[k],aF=j("base");
for(var aA in ay){if(ac.call(ay,aA)&&aA!=="this"){aD.push(p.replace({_variable:aA,_base:aF}))}}var aE=new this.syntax(",",aD).unflatten(),aw=ad.replace({_bindings:aE,_expression:aH});
if(aG.gensym_renaming){var az=this.gensym_rename_table(aw);for(var aA in ay){ac.call(ay,aA)&&(ay[az[aA]||aA]=ay[aA])}aw=aw.replace(az);aF=az[aF]}var ax=aw.toString();
try{return(new Function(aF,ax)).call(ay["this"],ay)}catch(aC){throw new Error((aC.message||aC)+" while compiling "+ax)}};var G=H.parse("new caterwaul.syntax(_data)"),t=H.parse("new caterwaul.syntax(_data, _xs)");
H.syntax_to_expression=function(ax){if(ax.length){for(var aw=new H.syntax(","),az=0,ay=ax.length;az<ay;++az){aw.push(H.syntax_to_expression(ax[az]))}return t.replace({_data:H.syntax.from_string(ax.data),_xs:aw.unflatten()})
}else{return G.replace({_data:H.syntax.from_string(ax.data)})}};H.late_bound_tree=function(aF,az,aE){aE=H.merge({expression_ref_table:true},aE);var aw=H.merge({},az,aF.expressions()),aC=new H.syntax(","),aA=new H.syntax(","),aD={};
for(var ay in aw){if(ac.call(aw,ay)){aC.push(new H.syntax(ay)),aA.push(aw[ay]),aD[ay]=H.syntax.from_string(aw[ay].toString())}}var aB=H.gensym("result"),ax=aE.expression_ref_table?V.replace({_result:aB,_expression_ref_table:H.syntax.from_object(aD)}):caterwaul.empty;
return aC.length?C.replace({_bindings:aC.unflatten(),_expressions:aA.unflatten(),_result:aB,_result_init:ax,_body:aF}):aF};H.gensym_rename_table=function(aE){var aD={},aB=[];
aE.reach(function(aF){var aG=aF.data;if(f(aG)){aD[aG]||aB.push(aG)}aD[aG]=aG.replace(/^(.*)_[a-z0-9]+_.{22}$/,"$1")||"anon"});var aw={},aC=function(aF){if(!(aF in aD)){return aF
}var aG=aw[aF]||0;while(aD[aF+(++aG).toString(36)]){}return aF+(aw[aF]=aG).toString(36)};for(var ax={},az=0,ay=aB.length,aA;az<ay;++az){ax[aA=aB[az]]||(aD[ax[aA]=aC(aD[aA])]=true)
}return ax};var b=function(ax){for(var ay=ax.split(/\s+/),az=1,aw=ay.length,aA=H[ay[0]]();az<aw;++az){aA=H[ay[az]](aA)}return aA};H.init=function(aw){aw||(aw=function(ax){return true
});return aw.constructor===Function?ah((function(){var ax=function(aA,ay,az){return typeof aA==="function"||aA.constructor===String?H.compile(ax.call(ax,H.parse(aA)),ay,az):aA.rmap(function(aB){return aw.call(ax,aB,ay,az)
})};return ax})(),function(){this.global=H,this.macroexpander=aw}):b(aw)};H.initializer=ar;H.clone=function(){return ah(ar(ar,v).deglobalize(),function(){for(var aw in H){this[aw]||(this[aw]=H[aw])
}})};var ao=H.parse("(function (f) {return f(f)})(_x)"),E=H.parse("module(_name, _f)");H.replicator=function(az){if(az&&az.minimal_core_only){return ao.replace({_x:new this.opaque_tree(this.core_initializer)})
}if(az&&az.core_only){return ao.replace({_x:new this.opaque_tree(this.initializer)})}for(var aA=0,ay=az&&az.modules||this.modules,aB=[],ax=ay.length;aA<ax;++aA){aB.push(E.replace({_name:"'"+ay[aA]+"'",_f:new this.opaque_tree(this.module(ay[aA]),this.module(ay[aA]).caterwaul_expression_ref_table)}))
}for(var aA=0,ax=aB.length,aw=new this.syntax(".",ao.replace({_x:new this.opaque_tree(this.initializer)}));aA<ax;++aA){aw.push(aB[aA])}return aw.unflatten()};return caterwaul=H
});